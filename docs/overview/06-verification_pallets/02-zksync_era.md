---
title: zkSync Era Verifier
---

## [`settlementZksyncPallet`](https://github.com/HorizenLabs/NH-core/tree/main/pallets/settlement-zksync)

The [`submitProof`](https://github.com/HorizenLabs/NH-core/tree/main/pallets/settlement-zksync/src/lib.rs#L103)
extrinsic can be used to verify ZkSync-Era proofs; these proofs are generated by Boojum prover that's a
STARK-based proof system. ZkSync-Era roolups generate these proofs and you can verify them on ZkVerify instead of
post them directly on Ethereum. The input proof format is 1440 bytes array where the last 32 bytes are the
public inputs: the pallet use [`zksync-era-verifier` crate](https://github.com/HorizenLabs/zksync-era-verifier/tree/v0.1.0)
to deserialize the proof and public inputs and then verify them. If we put error handling aside we can
summarize the pallet duty with the following code snipped

```rust
use zksync_era_verifier::{default_eth_vk, deserialize_eth_proof, verify, ZkSyncEthProof};

let mut eth_proof: ZkSyncEthProof =
    deserialize_eth_proof(&proof_data).unwrap();
eth_proof.inputs = &proof_data.to_vec();
let vk = default_eth_vk();
assert!(verify(&vk, &eth_proof).unwrap());
```

If the proof is correct a `Poe::NewElement(statement, attestation_id)` event is emitted where `statement`
is computed by using `zksync` as `verifier-id`.

This call can fail both if it's not possible deserialize the proof or public inputs (`InvalidProofData`,
`InvalidInput`) or if the proof doesn't verify (`VerifyError`).
